<h1 class="mat-headline">Add new banner</h1>

<form [formGroup]="bannerForm" (ngSubmit)="onSubmit()">
  <div class="row">

    <div class="col-md-8">
      <mat-card>
        <mat-card-header>
          <mat-card-subtitle>Basic Info</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div class="row">

            <!-- hidden filed -->
            <input type="hidden" formControlName="bannerId">
            <input type="hidden" formControlName="campaignId">

            <!-- banner type -->

            <mat-form-field class="col-md-6">
              <mat-label>Banner Type</mat-label>
              <mat-select formControlName="bannerType" name="storagetype">
                <mat-option value="web">Web</mat-option>
                <mat-option value="html5">Html 5</mat-option>
                <mat-option value="html">Html</mat-option>
              </mat-select>
            </mat-form-field>

            <!-- banner name -->
            <mat-form-field class="col-md-6">
              <input formControlName="bannerName" matInput placeholder="Banner Name *">
              <mat-error>
                  <div
                    *ngIf="bannerForm.get('bannerName').invalid && (bannerForm.get('bannerName').touched || bannerForm.get('bannerName').dirty)">
                    <div *ngIf="bannerForm.get('bannerName').errors.required">Banner name is required</div>
                    <div *ngIf="bannerForm.get('bannerName').errors.isAlphaNumericWithSpace">Banner name should be alpha numeric</div>
                  </div>
                </mat-error>
            </mat-form-field>

            <!-- Destination url -->
            <mat-form-field class="col-md-6">
              <input formControlName="destinationUrl" matInput placeholder="Destination Url *" type="url">
              <mat-error>
                <div
                  *ngIf="bannerForm.get('destinationUrl').invalid && (bannerForm.get('destinationUrl').touched || bannerForm.get('destinationUrl').dirty)">
                  <div *ngIf="bannerForm.get('destinationUrl').errors.required">Destination url is required</div>
                  <div *ngIf="bannerForm.get('destinationUrl').errors.isUrl">Enter a valid url</div>
                </div>
              </mat-error>
            </mat-form-field>

            <!-- Tracking pixel -->
            <mat-form-field class="col-md-6">
              <input formControlName="trackingPixel" matInput placeholder="Tracking pixel">
            </mat-form-field>

            <!-- Keywords -->
            <mat-form-field class="col-md-6">
              <input formControlName="keyword" matInput placeholder="Keywords">
            </mat-form-field>

            <!-- Weight -->
            <mat-form-field class="col-md-6">
              <input type="number" formControlName="weight" matInput placeholder="Weight">
              <mat-error>
                <div
                  *ngIf="bannerForm.get('weight').invalid && (bannerForm.get('weight').touched || bannerForm.get('weight').dirty)">
                  <div *ngIf="bannerForm.get('weight').errors.isUint">Weight should be +ve numbers</div>
                </div>
              </mat-error>
            </mat-form-field>

            <!-- code -->
            <mat-form-field class="col-md-12" *ngIf="bannerForm.get('bannerType')=='html5'">
              <textarea formControlName="code" rows="5" matInput placeholder="code"></textarea>
            </mat-form-field>


            <!-- comments -->
            <mat-form-field class="col-md-12">
              <textarea formControlName="comments" rows="5" matInput placeholder="Any Comments"></textarea>
            </mat-form-field>

          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="col-md-4">
      <mat-card>
        <mat-card-header>
          <mat-card-subtitle>Size (in pixels)</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div class="row">

            <!-- widht -->
            <mat-form-field class="col-md-6">
              <input formControlName="width" matInput placeholder="Width *" type="number">
              <mat-error>
                <div
                  *ngIf="bannerForm.get('width').invalid && (bannerForm.get('width').touched || bannerForm.get('width').dirty)">
                  <div *ngIf="bannerForm.get('width').errors.required">Width is required</div>
                  <div *ngIf="bannerForm.get('width').errors.isUint">Width should be +ve numbers</div>
                </div>
              </mat-error>
            </mat-form-field>

            <!-- height -->
            <mat-form-field class="col-md-6">
              <input formControlName="height" matInput placeholder="height *" type="number">
              <mat-error>
                <div
                  *ngIf="bannerForm.get('height').invalid && (bannerForm.get('height').touched || bannerForm.get('height').dirty)">
                  <div *ngIf="bannerForm.get('height').errors.required">Height is required</div>
                  <div *ngIf="bannerForm.get('height').errors.isUint">Height should be +ve numbers</div>
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <!-- file upload -->
          <input *ngIf="bannerForm.get('bannerType')=='web'" #fileInput type="file" placeholder="Upload File *">
        </mat-card-content>

      </mat-card>
    </div>

  </div>

  <div class="mt-4">
    <button mat-raised-button color="primary" type="submit">Add Banner</button> &nbsp;
    <button mat-raised-button type="reset">Reset</button>
  </div>

</form>